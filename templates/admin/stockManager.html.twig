{% extends 'base_admin.html.twig' %}

{% block title %}Panneau d'administration{% endblock %}

{% block content %}
<table class="table">
    <thead>
    <tr>
        <th>Ajouté le</th>
        <th>Mis à jour le</th>
        <th>Ville</th>
        <th>Nom du produit</th>
        <th>Disponible</th>
        <th>Changer Disponibilité</th>
    </tr>
    </thead>
    <tbody>
    {% for stock in stocks %}
        <tr>
            <td>{{ stock.createdAt|date("d/m/Y") }}</td>
            <td>{{ stock.updatedAt|date("d/m/Y") }}</td>
            <td>{{ stock.city.name }}</td>
            <td>
                {% if stock.product is empty %}
                    {{ stock.accessory.name }}
                {% else %}
                    {{ stock.product.name }}
                {% endif %}

            </td>
            <td>
                {% if stock.isAvailable %}
                    <strong class="text-success">DISPONIBLE</strong>
                {% else %}
                    <strong class="text-danger">NON DISPONIBLE</strong>
                {% endif %}
            </td>
            <td>
                <label class="switch">
                    <a href="{{ path('admin_stock_available', {stock: stock.id}) }}">
                        <input type="checkbox" checked>
                        <span class="slider round"></span>
                    </a>
                </label>
            </td>
        </tr>
    {% else %}
        <tr>
            <td colspan="5">no records found</td>
        </tr>
    {% endfor %}
    </tbody>
</table>
<div class="mx-auto my-5 text-center">
    <a href="{{ path("home") }}"><button class="btn button-style col-3"> Retour sur la page d'accueil </button></a>
</div>
{% endblock %}